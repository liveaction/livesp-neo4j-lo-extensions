MATCH (scopeSP:Scope {tag: 'class=scope,scope=sp', name:'sp'})
MATCH (scopeGlobal:Scope {tag: 'class=scope,scope=global', name:'global'})

CREATE (sch:Schema {id:'iwan', version:'1.0'})
CREATE (schSP:Schema {id:'iwan-sp', version:'1.0'})

CREATE (ptNetwork:PlanetTemplate            {name:'iwan/{:scopeId}/network/cisco',              _createdAt:timestamp()})
CREATE (ptCpe:PlanetTemplate                {name:'iwan/{:scopeId}/cpe/cisco',                  _createdAt:timestamp()})
CREATE (ptApp:PlanetTemplate                {name:'iwan/{:scopeId}/application/cisco',          _createdAt:timestamp()})
CREATE (ptAppGroup:PlanetTemplate           {name:'iwan/global/application/group/cisco',        _createdAt:timestamp()})
CREATE (ptAppCategory:PlanetTemplate        {name:'iwan/global/application/category/cisco',     _createdAt:timestamp()})
CREATE (ptAppUser:PlanetTemplate            {name:'iwan/{:scopeId}/application/user/cisco',     _createdAt:timestamp()})
CREATE (ptCos:PlanetTemplate                {name:'iwan/global/cos/cisco',                      _createdAt:timestamp()})
CREATE (ptDscp:PlanetTemplate               {name:'iwan/global/dscp/cisco',                     _createdAt:timestamp()})
CREATE (ptArea:PlanetTemplate               {name:'iwan/{:scopeId}/area/cisco',                 _createdAt:timestamp()})
CREATE (ptClient:PlanetTemplate             {name:'iwan/{:scopeId}/client/cisco',               _createdAt:timestamp()})
CREATE (ptSite:PlanetTemplate               {name:'iwan/{:scopeId}/site/cisco',                 _createdAt:timestamp()})
CREATE (ptViewpoint:PlanetTemplate          {name:'iwan/{:scopeId}/viewpoint/cisco',            _createdAt:timestamp()})
CREATE (ptWanLink:PlanetTemplate            {name:'iwan/{:scopeId}/wanLink/cisco',              _createdAt:timestamp()})
CREATE (ptIpslaProbe:PlanetTemplate         {name:'iwan/{:scopeId}/ipslaProbe/cisco',           _createdAt:timestamp()})
CREATE (ptMasterController:PlanetTemplate   {name:'iwan/{:scopeId}/masterController/cisco',     _createdAt:timestamp()})
CREATE (ptBorderRouter:PlanetTemplate       {name:'iwan/{:scopeId}/borderRouter/cisco',         _createdAt:timestamp()})
CREATE (ptCollector:PlanetTemplate          {name:'iwan/sp/collertor/cisco',                    _createdAt:timestamp()})
CREATE (ptIPDest:PlanetTemplate             {name:'iwan/global/ip/dest',                        _createdAt:timestamp()})

CREATE (rtViewpoint:RealmTemplate           {name:'iwan/{:scopeId}/netflow/viewpoint',          _createdAt:timestamp()})
CREATE (rtPFR:RealmTemplate                 {name:'iwan/{:scopeId}/netflow/path',               _createdAt:timestamp()})
CREATE (rtSnmpWanlink:RealmTemplate         {name:'iwan/{:scopeId}/snmp/wanLink',               _createdAt:timestamp()})
CREATE (rtSnmpCpe:RealmTemplate             {name:'iwan/{:scopeId}/snmp/cpe',                   _createdAt:timestamp()})
CREATE (rtCollectMonitor:RealmTemplate      {name:'iwan/sp/collect/monitor',                    _createdAt:timestamp()})

CREATE (sgNetflowViewpoint:Segment          {path:'viewpoint',   _createdAt:timestamp()})
CREATE (sgNetflowDscp:Segment               {path:'dscp',        _createdAt:timestamp()})
CREATE (sgNetflowApp:Segment                {path:'application', _createdAt:timestamp()})
CREATE (sgNetflowIP:Segment                 {path:'ipdest',      _createdAt:timestamp()})
CREATE (sgPfrSiteLeft:Segment               {path:'left_site',   _createdAt:timestamp()})
CREATE (sgPfrSiteRight:Segment              {path:'right_site',  _createdAt:timestamp()})
CREATE (sgPfrNetwork:Segment                {path:'network',     _createdAt:timestamp()})
CREATE (sgPfrDscp:Segment                   {path:'dscp',        _createdAt:timestamp()})
CREATE (sgSnmpWanLink:Segment               {path:'wanLink',     _createdAt:timestamp()})
CREATE (sgSnmpCos:Segment                   {path:'cos',         _createdAt:timestamp()})
CREATE (sgSnmpCpe:Segment                   {path:'cpe',         _createdAt:timestamp()})
CREATE (sgCollector:Segment                 {path:'collector',   _createdAt:timestamp()})
CREATE (sgMonCpe:Segment                    {path:'cpe',         _createdAt:timestamp()})

CREATE (sch)-[:AppliedTo]->(scopeSP)
CREATE (schSP)-[:AppliedTo]->(scopeSP)

CREATE (sch)-[:Provided]->(rtViewpoint)
CREATE (sch)-[:Provided]->(rtPFR)
CREATE (sch)-[:Provided]->(rtSnmpWanlink)
CREATE (sch)-[:Provided]->(rtSnmpCpe)
CREATE (schSP)-[:Provided]->(rtCollectMonitor)

CREATE (sch)-[:Provided]->(ptNetwork)
CREATE (sch)-[:Provided]->(ptCpe)
CREATE (sch)-[:Provided]->(ptApp)
CREATE (sch)-[:Provided]->(ptAppGroup)
CREATE (sch)-[:Provided]->(ptAppCategory)
CREATE (sch)-[:Provided]->(ptAppUser)
CREATE (sch)-[:Provided]->(ptCos)
CREATE (sch)-[:Provided]->(ptDscp)
CREATE (sch)-[:Provided]->(ptArea)
CREATE (sch)-[:Provided]->(ptClient)
CREATE (sch)-[:Provided]->(ptSite)
CREATE (sch)-[:Provided]->(ptViewpoint)
CREATE (sch)-[:Provided]->(ptWanLink)
CREATE (sch)-[:Provided]->(ptIpslaProbe)
CREATE (sch)-[:Provided]->(ptIPDest)
CREATE (schSP)-[:Provided]->(ptCpe)
CREATE (schSP)-[:Provided]->(ptCollector)

CREATE (sgNetflowViewpoint)-[:Extend]->(ptViewpoint)
CREATE (sgNetflowDscp)-[:Extend]->(ptDscp)
CREATE (sgNetflowApp)-[:Extend]->(ptApp)
CREATE (sgPfrSiteLeft)-[:Extend]->(ptSite)
CREATE (sgPfrSiteRight)-[:Extend]->(ptSite)
CREATE (sgPfrNetwork)-[:Extend]->(ptNetwork)
CREATE (sgPfrDscp)-[:Extend]->(ptDscp)
CREATE (sgSnmpWanLink)-[:Extend]->(ptWanLink)
CREATE (sgSnmpCos)-[:Extend]->(ptCos)
CREATE (sgSnmpCpe)-[:Extend]->(ptCpe)
CREATE (sgMonCpe)-[:Extend]->(ptCpe)
CREATE (sgCollector)-[:Extend]->(ptCollector)
CREATE (sgNetflowIP)-[:Extend]->(ptIPDest)

CREATE (rtViewpoint)-[:MdxPath]->(sgNetflowViewpoint)-[:MdxPath]->(sgNetflowDscp)
CREATE                           (sgNetflowViewpoint)-[:MdxPath]->(sgNetflowApp)-[:MdxPath]->(sgNetflowIP)

CREATE (rtPFR)-[:MdxPath]->(sgPfrSiteLeft)-[:MdxPath]->(sgPfrSiteRight)-[:MdxPath]->(sgPfrNetwork)-[:MdxPath]->(sgPfrDscp)

CREATE (rtSnmpWanlink)-[:MdxPath]->(sgSnmpWanLink)-[:MdxPath]->(sgSnmpCos)

CREATE (rtSnmpCpe)-[:MdxPath]->(sgSnmpCpe)

CREATE (rtCollectMonitor)-[:MdxPath]->(sgCollector)-[:MdxPath]->(sgMonCpe)

;
